<!DOCTYPE html>
<html>
    {% block head %}
        <head>
            <title>{% block title %}{% endblock %}</title>
            <meta content="width=device-width, height=device-height, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" name="viewport" />
            <meta content="yes" name="apple-mobile-web-app-capable" />
            <meta content="chrome=1" http-equiv="X-UA-Compatible" />
            <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
            <script src="https://browserid.org/include.js" type="text/javascript"></script>
            <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
            <script type="text/javascript" src="{{ url_for('static', filename='main.js') }}"></script>
        </head>
    {% endblock %}
    <body>
        <div class="wrapper">
            <h1><a href="{{ url_for('main') }}">lexicrypt</a></h1>
            {% if session['lex_email'] %}
                <a href="{{ url_for('logout') }}" id="logout">Logout</a>
            {% else %}
                <a href="#" id="login">Log in with BrowserID</a>
                <form method="post" action="/set_email">
                  <input type="hidden" name="bid_assertion" value="1">
                </form>
            {% endif %}

            {% block content %}{% endblock %}
            {% block footer %}
                <div class="footer">
                    
                </div>
            {% endblock %}
        </div>
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-4319539-35']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    </body>
</html>